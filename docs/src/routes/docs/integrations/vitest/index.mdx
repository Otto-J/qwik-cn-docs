---
title: Vitest | é›†æˆ
keywords: 'æµ‹è¯•, å•å…ƒæµ‹è¯•, jest'
contributors:
  - manucorporat
  - reemardelarosa
  - mhevery
---

# Vitest

[Vitest](https://vitest.dev/) æ˜¯ä¸€ä¸ªç”± Vite æä¾›æ”¯æŒçš„é«˜é€Ÿå•å…ƒæµ‹è¯•æ¡†æž¶ã€‚ç”±äºŽ Qwik City é»˜è®¤ä½¿ç”¨ [Vite](https://vitejs.dev/)ï¼ŒVitest æ˜¯æˆ‘ä»¬çš„é»˜è®¤å•å…ƒæµ‹è¯•æ¡†æž¶ã€‚

## ä½¿ç”¨æ–¹æ³•

æ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨ä»¥ä¸‹ Qwik è„šæœ¬è½»æ¾æ·»åŠ  vitestï¼š

```shell
npm run qwik add vitest
```

è¿è¡Œè¯¥å‘½ä»¤åŽï¼Œvitest å°†è¢«å®‰è£…ï¼Œå¹¶ä¸”ä¸€ä¸ªæ–°çš„ç»„ä»¶å°†è¢«æ·»åŠ åˆ°æ‚¨çš„é¡¹ç›®ä¸­ã€‚åªè¦æ–°çš„å•å…ƒæµ‹è¯•å‘½åä¸º `example.spec.ts`ï¼Œè¯¥ç»„ä»¶å°†è¢«æ·»åŠ åˆ° `src/components/example` ç›®å½•ä¸­ã€‚

```tsx title="example.spec.ts"
import { createDOM } from '@builder.io/qwik/testing';
import { test, expect } from 'vitest';
import { ExampleTest } from './example';

test(`[ExampleTest ç»„ä»¶]: åº”è¯¥æ¸²æŸ“ â­`, async () => {
  const { screen, render } = await createDOM();
  await render(<ExampleTest flag={true} />);
  expect(screen.outerHTML).toContain('â­');
  const div = screen.querySelector('.icon') as HTMLElement;
  expect(div.outerHTML).toContain('â­');
});

test(`[ExampleTest ç»„ä»¶]: åº”è¯¥æ¸²æŸ“ ðŸ’£`, async () => {
  const { screen, render } = await createDOM();
  await render(<ExampleTest flag={false} />);
  expect(screen.outerHTML).toContain('ðŸ’£');
});

test(`[ExampleTest ç»„ä»¶]: ç‚¹å‡»è®¡æ•°å™¨ +1`, async () => {
  const { screen, render, userEvent } = await createDOM();
  await render(<ExampleTest flag={true} />);

  expect(screen.outerHTML).toContain('Count:0');

  const spanBefore = screen.querySelector('span') as HTMLDivElement;
  await userEvent('.btn-counter', 'click');
  expect(spanBefore.innerHTML).toEqual('Count:1');

  const spanAfter = screen.querySelector('span') as HTMLDivElement;
  await userEvent('button', 'click');
  expect(spanAfter.innerHTML).toEqual('Count:2');
});
```
