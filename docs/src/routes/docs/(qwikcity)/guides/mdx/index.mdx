---
title: Markdown å’Œ MDX | æŒ‡å—
description: å­¦ä¹ å¦‚ä½•åœ¨ Qwik City ä¸­ä½¿ç”¨ Markdown å’Œ MDXã€‚
contributors:
  - manucorporat
  - adamdbradley
  - Oyemade
  - mhevery
  - nnelgxorz
  - cunzaizhuyi
  - the-r3aper7
  - zanettin
  - hamatoyogi
---

# MDX

ä½¿ç”¨ `.mdx` æ–‡ä»¶ï¼ˆ[Markdown JSX](https://mdxjs.com/)ï¼‰æ˜¯ä¸€ç§æ›¿ä»£çš„å†…å®¹ç¼–å†™æ–¹å¼ã€‚è¿™äº›æ–‡ä»¶ä»¥ Markdown çš„å½¢å¼ç¼–å†™ï¼Œä½†ä¼šè¢«ç¼–è¯‘ä¸º Qwik ç»„ä»¶ã€‚é™¤äº† Markdown è¯­æ³•ï¼Œ`.mdx` æ–‡ä»¶è¿˜å¯ä»¥å¼•ç”¨å…¶ä»–ç»„ä»¶ã€‚

å‡è®¾ä½ çš„è·¯ç”±è®¾ç½®å¦‚ä¸‹ï¼š

```bash
src/
â””â”€â”€ routes/
    â””â”€â”€ some/
        â””â”€â”€ path/
            â””â”€â”€ index.mdx    # https://example.com/some/path
```

```Markdown title="src/routes/some/path/index.mdx"
---
title: ä½ å¥½ï¼Œä¸–ç•Œ
---

è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ä½ å¥½ä¸–ç•Œç»„ä»¶ã€‚

```

ä¸Šè¿°ç»„ä»¶å°†åœ¨ `https://example.com/some/path` æ¸²æŸ“ã€‚

## å¯¼å…¥å…¶ä»–ç»„ä»¶

[MDX](https://mdxjs.com/) æ˜¯ä¸€ä¸ªåˆ›é€ æ€§çš„æœºä¼šï¼Œå¯ä»¥è®©ä½ å¿«é€Ÿåˆ›å»ºæ–°å†…å®¹ï¼ˆ"Qwikly" ğŸ™‚ï¼‰ï¼Œå¦‚æœä½ éœ€è¦é¡µé¢ä¸Šçš„æ›´å¤šäº¤äº’ï¼Œå¯ä»¥æ— ç¼é›†æˆä½ çš„ Qwik ç»„ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```bash
src/
â”œâ”€â”€ components/
|   â””â”€â”€ counter
â”‚       â””â”€â”€  counter.tsx
â””â”€â”€ routes/
    â””â”€â”€ some/
        â””â”€â”€ path/
            â””â”€â”€ index.mdx    # https://example.com/some/path
```

```Markdown title="src/routes/some/path/index.mdx"
---
title: ä½ å¥½ï¼Œä¸–ç•Œ
---
import { Counter } from "../../../components/counter/counter";

è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ä½ å¥½ä¸–ç•Œç»„ä»¶ã€‚

<Counter />

```

```tsx title="src/components/counter/counter.tsx"
import { component$, useSignal } from '@builder.io/qwik';

export const Counter = component$(() => {
  const count = useSignal(0);

  return (
    <button class="counter" type="button" onClick$={() => count.value++}>
      å¢åŠ  {count.value}
    </button>
  );
});
```

**æ³¨æ„**ï¼šQwik City ä¸è®¸å¤šå½“å‰çš„å…ƒæ¡†æ¶ä¹‹é—´çš„ä¸€ä¸ªå…³é”®åŒºåˆ«æ˜¯åŸºäºç›®å½•çš„è·¯ç”±ã€‚æ¯ä¸ªè·¯ç”±éƒ½éœ€è¦å®šä¹‰ä¸º `a-directory/index.(tsx,ts,js,jsx,md,mdx)`ã€‚

åœ¨å…¶ä»–å…ƒæ¡†æ¶ä¸­ï¼Œä½ ä¹ æƒ¯äº `about.mdx` å°†æ¸²æŸ“ä¸ºè·¯ç”± `http://example.com/about`ã€‚ç„¶è€Œï¼Œåœ¨ Qwik City ä¸­ï¼Œè¿™æ ·æ˜¯è¡Œä¸é€šçš„ã€‚ä½ å¿…é¡»å°†æ–‡ä»¶é‡å‘½åä¸º `about/index.mdx`ï¼ŒQwik City æ‰èƒ½çŸ¥é“å¦‚ä½•æ¸²æŸ“å®ƒã€‚

## ç¦ç”¨é»˜è®¤çš„ MDX æ’ä»¶

Qwik City é»˜è®¤åŒ…å« 3 ä¸ªæ’ä»¶ã€‚

- [remarkGfm](https://github.com/remarkjs/remark-gfm)ï¼š[GFM](https://github.github.com/gfm/) æ”¯æŒï¼ˆè‡ªåŠ¨é“¾æ¥æ–‡å­—ã€è„šæ³¨ã€åˆ é™¤çº¿ã€è¡¨æ ¼ã€ä»»åŠ¡åˆ—è¡¨ï¼‰ã€‚
- [rehypeSyntaxHighlight](https://github.com/wooorm/refractor)ï¼šä½¿ç”¨ Prism è¿›è¡Œè½»é‡ã€å¼ºå¤§ã€ä¼˜é›…çš„è™šæ‹Ÿè¯­æ³•é«˜äº®ã€‚
- [rehypeAutolinkHeadings](https://github.com/rehypejs/rehype-autolink-headings)ï¼šåœ¨ HTML ä¸­æ·»åŠ æ ‡é¢˜é“¾æ¥çš„æ’ä»¶ã€‚

å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ç‹¬ç«‹ç¦ç”¨è¿™äº›æ’ä»¶ï¼š

```tsx title="vite.config.js"
import { defineConfig } from 'vite';
import { qwikCity } from '@builder.io/qwik-city/vite';
// è¯·å‚é˜…ä¸‹é¢
import rehypeAutolinkHeadings from 'rehype-autolink-headings';
export default defineConfig(() => {
  return {
    plugins: [
      qwikCity({
        mdxPlugins: {
          remarkGfm: false,
          rehypeSyntaxHighlight: false,
          rehypeAutolinkHeadings: false,
        },
        mdx: {
          rehypePlugins: [
            // ç°åœ¨å¯ä»¥æ‰‹åŠ¨æ·»åŠ æ’ä»¶ä»¥ä½¿ç”¨ä¸åŒçš„é…ç½®
            [rehypeAutolinkHeadings, { behavior: 'wrap' }],
          ],
        },
      }),
      /* å…¶ä½™çš„é…ç½® */
    ],
  };
});
```

## Open Graph å±æ€§

ä½ å¯ä»¥ä½¿ç”¨ `og` æˆ– `opengraph` å±æ€§æ¥å®šä¹‰ [Open Graph åè®®](https://ogp.me/) çš„å…ƒæ•°æ®ã€‚

```yaml
title: æˆ‘çš„æ ‡é¢˜
description: æˆ‘çš„æè¿°
og:
  - title: æˆ‘çš„è‡ªå®šä¹‰æ ‡é¢˜
    description: true
  - image: https://example.com/rock.jpg
    image:alt: ä¸€ä¸ªé—ªäº®çš„çº¢è‹¹æœè¢«å’¬äº†ä¸€å£
  - image: https://example.com/rock2.jpg
```

å°† `og:title` æˆ– `og:description` è®¾ç½®ä¸º `true` å°†æ£€æŸ¥å¹¶ä½¿ç”¨å¤–éƒ¨çš„ `title` å’Œ `description` å±æ€§ã€‚å› æ­¤ï¼Œä½ å¯ä»¥é¿å…é‡å¤ç¼–å†™ç›¸åŒçš„æ ‡é¢˜å’Œæè¿°ã€‚

ä¸Šè¿°ç¤ºä¾‹å°†ç”Ÿæˆä»¥ä¸‹ HTML ä»£ç ã€‚

```html
<title>æˆ‘çš„æ ‡é¢˜</title>
<meta name="description" content="æˆ‘çš„æè¿°" />

<meta property="og:title" content="æˆ‘çš„è‡ªå®šä¹‰æ ‡é¢˜" />
<meta property="og:description" content="æˆ‘çš„æè¿°" />

<meta property="og:image" content="https://example.com/rock.jpg" />
<meta property="og:image:alt" content="ä¸€ä¸ªé—ªäº®çš„çº¢è‹¹æœè¢«å’¬äº†ä¸€å£" />

<meta property="og:image" content="https://example.com/rock2.jpg" />
```

## è¯»å–å‰ç½®æ•°æ®
å¯ä»¥é€šè¿‡åˆ©ç”¨ `useDocumentHead()` é’©å­æ¥è®¿é—®å‰ç½®æ•°æ®çš„é”®ã€‚

```Markdown title="src/routes/some/path/index.mdx"
---
title: ä½ å¥½ï¼Œä¸–ç•Œ
tags:
  - è¶…çº§
  - ä»¤äººå…´å¥‹
  - æ–‡æ¡£
---
import { Tags } from "../../../components/tags/tags";

è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ä½ å¥½ä¸–ç•Œç»„ä»¶ã€‚

<Tags />
```

```tsx title="src/components/tags/tags.tsx"
import { component$ } from '@builder.io/qwik';
import { useDocumentHead } from '@builder.io/qwik-city';

export const Tags = component$(() => {
  const { frontmatter } = useDocumentHead();
  
  if (frontmatter.tags.length === 0) {
    return null;
  }
  
  return (
    <ul>
      {frontmatter.tags.map((tag: string) => (
        <li key={`tag-${tag}`}>{tag}</li>
      ))}
    </ul>
  );
});
```
