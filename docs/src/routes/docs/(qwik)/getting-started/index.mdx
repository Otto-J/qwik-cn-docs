---
title: å¼€å§‹å…¥é—¨ | ä»‹ç»
contributors:
  - manucorporat
  - jesperp
  - adamdbradley
  - steve8708
  - cunzaizhuyi
  - mousaAM
  - zanettin
  - Craiqser
  - MyltsinVV
  - literalpie
  - colynyu
  - the-r3aper7
  - ahmadalfy
  - renomureza
  - mhevery
  - AnthonyPAlicea
  - kapunahelewong
  - kushalmahajan
  - sreeisalso
  - dustinsgoodman
  - nsdonato
  - seqshem
  - daniela-bonvini
---

import CodeSandbox from '../../../../components/code-sandbox/index.tsx';

# å¼€å§‹å…¥é—¨ Qwik

Qwik æ˜¯ä¸€ç§æ–°å‹çš„æ¡†æ¶ï¼Œå®ƒæ˜¯[å¯æ¢å¤çš„](../concepts/resumable/index.mdx)ï¼ˆæ²¡æœ‰ç«‹å³çš„JSæ‰§è¡Œï¼Œä¹Ÿæ²¡æœ‰æ°´åˆï¼‰ï¼Œæ„å»ºç›®æ ‡æ˜¯è¾¹ç¼˜éƒ¨ç½²å’Œ [ç†Ÿæ‚‰ React çš„å¼€å‘äººå‘˜](/docs/integrations/react/index.mdx)ã€‚

è¦ç«‹å³ä½¿ç”¨å®ƒï¼Œè¯·æŸ¥çœ‹æˆ‘ä»¬çš„æµè§ˆå™¨å†…çš„ playgroundï¼š

- [StackBlitz Qwik](https://qwik.new) (Full Qwik + Qwikcity é›†æˆ)
- [Examples playground](/examples/reactivity/counter/) (åªæœ‰ Qwikï¼Œæ²¡æœ‰è·¯ç”±)

## å‰ç½®è¦æ±‚

è¦åœ¨æœ¬åœ°å¼€å§‹ä½¿ç”¨ Qwikï¼Œæ‚¨éœ€è¦ä»¥ä¸‹å†…å®¹ï¼š

- [Node.js v16.8](https://nodejs.org/en/download/) æˆ–æ›´é«˜ç‰ˆæœ¬
- æ‚¨å–œæ¬¢çš„ IDEï¼ˆæ¨èä½¿ç”¨ [vscode](https://code.visualstudio.com/)ï¼‰
- å¯é€‰ï¼šé˜…è¯» [think qwik](../concepts/think-qwik/index.mdx)

## ä½¿ç”¨ CLI åˆ›å»ºåº”ç”¨ç¨‹åº

é¦–å…ˆï¼Œä½¿ç”¨ Qwik CLI åˆ›å»ºä¸€ä¸ª Qwik åº”ç”¨ç¨‹åºï¼Œå®ƒä¼šç”Ÿæˆä¸€ä¸ªç©ºç™½çš„èµ·å§‹æ¨¡æ¿ï¼Œè®©æ‚¨å¯ä»¥å¿«é€Ÿç†Ÿæ‚‰å®ƒã€‚

åœ¨æ‚¨çš„ shell ä¸­è¿è¡Œ Qwik CLIã€‚Qwik æ”¯æŒ npmã€yarnã€pnpm å’Œ bunã€‚é€‰æ‹©æ‚¨å–œæ¬¢çš„åŒ…ç®¡ç†å™¨ï¼Œå¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ä¹‹ä¸€ï¼š

```shell
npm create qwik@latest
pnpm create qwik@latest
yarn create qwik
bun create qwik@latest
```

CLI ä¼šå¼•å¯¼æ‚¨é€šè¿‡ä¸€ä¸ªäº¤äº’å¼èœå•ï¼Œè®¾ç½®é¡¹ç›®åç§°ï¼Œé€‰æ‹©ä¸€ä¸ªèµ·å§‹æ¨¡æ¿ï¼Œå¹¶è¯¢é—®æ˜¯å¦è¦å®‰è£…ä¾èµ–é¡¹ã€‚æœ‰å…³ç”Ÿæˆçš„æ–‡ä»¶çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…[é¡¹ç›®ç»“æ„](/docs/project-structure/)æ–‡æ¡£ã€‚

å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š

```shell
npm start
pnpm start
yarn start
bun start
```

## Qwik ç¬‘è¯åº”ç”¨

Qwik Hello World æ•™ç¨‹å°†å¼•å¯¼æ‚¨ä½¿ç”¨ Qwik æ„å»ºä¸€ä¸ªç¬‘è¯åº”ç”¨ï¼Œå¹¶æ¶µç›–æœ€é‡è¦çš„ Qwik æ¦‚å¿µã€‚è¯¥åº”ç”¨ä» https://icanhazdadjoke.com æ˜¾ç¤ºä¸€ä¸ªéšæœºç¬‘è¯ï¼Œå¹¶æä¾›ä¸€ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»æŒ‰é’®å¯ä»¥è·å–æ–°çš„ç¬‘è¯ã€‚


### 1. åˆ›å»ºè·¯ç”±

é¦–å…ˆï¼Œåœ¨ç‰¹å®šçš„è·¯ç”±ä¸Šæä¾›ä¸€ä¸ªé¡µé¢ã€‚è¿™ä¸ªåŸºæœ¬åº”ç”¨ç¨‹åºåœ¨ `/joke/` è·¯ç”±ä¸Šæä¾›ä¸€ä¸ªéšæœºç¬‘è¯åº”ç”¨ã€‚æœ¬æ•™ç¨‹ä¾èµ–äº Qwikcityï¼ŒQwik çš„å…ƒæ¡†æ¶ï¼Œå®ƒä½¿ç”¨[åŸºäºç›®å½•](/docs/routing/)çš„è·¯ç”±ã€‚å¼€å§‹ï¼š

1. åœ¨æ‚¨çš„é¡¹ç›®ä¸­ï¼Œåœ¨ `routes` ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„ `joke` ç›®å½•ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª `index.tsx` æ–‡ä»¶ã€‚
2. æ¯ä¸ªè·¯ç”±çš„ `index.tsx` æ–‡ä»¶å¿…é¡»æœ‰ä¸€ä¸ª `export default component$(...)`ï¼Œä»¥ä¾¿ Qwikcity çŸ¥é“è¦æä¾›ä»€ä¹ˆå†…å®¹ã€‚å°†ä»¥ä¸‹å†…å®¹ç²˜è´´åˆ° `src/routes/joke/index.tsx` ä¸­ï¼š

<CodeSandbox src="/src/routes/demo/getting-started/01-route/index.tsx" style={{ height: '6em' }}>
```tsx {3-5} title="src/routes/joke/index.tsx"
import { component$ } from '@builder.io/qwik';

export default component$(() => {
  return <section class="section bright">A Joke!</section>;
});
```
</CodeSandbox>

3. åœ¨æµè§ˆå™¨ä¸­å¯¼èˆªåˆ° `http://127.0.0.1:5173/joke/`ï¼ŒæŸ¥çœ‹æ‚¨çš„æ–°é¡µé¢æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚

> æ³¨æ„ï¼š
>
> - æ‚¨çš„ `joke` è·¯ç”±é»˜è®¤ç»„ä»¶è¢«ç°æœ‰çš„å¸ƒå±€åŒ…å›´ã€‚æœ‰å…³å¸ƒå±€çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[å¸ƒå±€](/docs/layout/)ã€‚
> - æœ‰å…³å¦‚ä½•ç¼–å†™ç»„ä»¶çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[ç»„ä»¶ API](/docs/(qwik)/components/overview/index.mdx)éƒ¨åˆ†ã€‚

### 2. åŠ è½½æ•°æ®

æˆ‘ä»¬å°†ä½¿ç”¨ä½äº https://icanhazdadjoke.com çš„å¤–éƒ¨ JSON API åŠ è½½éšæœºç¬‘è¯ã€‚æˆ‘ä»¬å°†ä½¿ç”¨[è·¯ç”±åŠ è½½å™¨](/docs/route-loader/)åœ¨æœåŠ¡å™¨ä¸ŠåŠ è½½è¿™äº›æ•°æ®ï¼Œç„¶ååœ¨ç»„ä»¶ä¸­æ¸²æŸ“å®ƒã€‚

1. æ‰“å¼€ `src/routes/joke/index.tsx` å¹¶æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š

<CodeSandbox src="/src/routes/demo/getting-started/02-loading-data/index.tsx" style={{ height: '6em' }}>
```tsx /routeLoader$/ /useDadJoke/#a title="src/routes/joke/index.tsx"
import { component$ } from '@builder.io/qwik';
import { routeLoader$ } from '@builder.io/qwik-city';

export const useDadJoke = routeLoader$(async () => {
  const response = await fetch('https://icanhazdadjoke.com/', {
    headers: { Accept: 'application/json' },
  });
  return (await response.json()) as {
    id: string;
    status: number;
    joke: string;
  };
});

export default component$(() => {
  // Calling our `useDadJoke` hook, will return a reactive signal to the loaded data.
  const dadJokeSignal = useDadJoke();
  return (
    <section class="section bright">
      <p>{dadJokeSignal.value.joke}</p>
    </section>
  );
});
```
</CodeSandbox>

2. ç°åœ¨åœ¨ `http://localhost:5173/joke/` ä¸Šï¼Œæµè§ˆå™¨ä¼šæ˜¾ç¤ºä¸€ä¸ªéšæœºç¬‘è¯ã€‚

ä»£ç è§£é‡Šï¼š

- ä¼ é€’ç»™ `routeLoader$` çš„å‡½æ•°åœ¨æœåŠ¡å™¨ä¸Šè¢«æ€¥åˆ‡åœ°è°ƒç”¨ï¼Œç„¶ååœ¨æ¸²æŸ“ä»»ä½•ç»„ä»¶ä¹‹å‰è´Ÿè´£åŠ è½½æ•°æ®ã€‚
- `routeLoader$` è¿”å›ä¸€ä¸ªä½¿ç”¨é’©å­ `useDadJoke()`ï¼Œå¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨å®ƒæ¥æ£€ç´¢æœåŠ¡å™¨æ•°æ®ã€‚

> **æ³¨æ„**
>
> - `routeLoader$` åœ¨æœåŠ¡å™¨ä¸Šåœ¨æ¸²æŸ“ä»»ä½•ç»„ä»¶ä¹‹å‰è¢«æ€¥åˆ‡åœ°è°ƒç”¨ï¼Œå³ä½¿å®ƒçš„ä½¿ç”¨é’©å­åœ¨ä»»ä½•ç»„ä»¶ä¸­éƒ½æ²¡æœ‰è¢«è°ƒç”¨ã€‚
> - `routeLoader$` çš„è¿”å›ç±»å‹åœ¨ç»„ä»¶ä¸­è¢«æ¨æ–­å‡ºæ¥ï¼Œæ— éœ€ä»»ä½•é¢å¤–çš„ç±»å‹ä¿¡æ¯ã€‚


### 3. å°†æ•°æ®å‘é€åˆ°æœåŠ¡å™¨

ä¹‹å‰ï¼Œæˆ‘ä»¬ä½¿ç”¨ `routeLoader$` å°†æ•°æ®ä»æœåŠ¡å™¨å‘é€åˆ°å®¢æˆ·ç«¯ã€‚è¦ä»å®¢æˆ·ç«¯å°†æ•°æ®å‘é€å›æœåŠ¡å™¨ï¼Œæˆ‘ä»¬ä½¿ç”¨ [`routeAction$`](/docs/action/)ã€‚

æ³¨æ„ï¼š`routeAction$` æ˜¯å‘æœåŠ¡å™¨å‘é€æ•°æ®çš„é¦–é€‰æ–¹æ³•ï¼Œå› ä¸ºå®ƒä½¿ç”¨æµè§ˆå™¨åŸç”Ÿçš„è¡¨å• APIï¼Œåœ¨ JavaScript ç¦ç”¨æ—¶ä¹Ÿå¯ä»¥å·¥ä½œã€‚

è¦å£°æ˜ä¸€ä¸ª actionï¼Œè¯·æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š

```tsx /routeAction\$/ title="src/routes/joke/index.tsx"
import { routeLoader$, Form, routeAction$ } from '@builder.io/qwik-city';

export const useJokeVoteAction = routeAction$((props) => {
  // Leave it as an exercise for the reader to implement this.
  console.log('VOTE', props);
});
```

2. æ›´æ–° `export default` ç»„ä»¶ï¼Œä½¿ç”¨ `useJokeVoteAction` é’©å­å’Œ `<Form>`ã€‚

```tsx {3,7-11} /favoriteJokeAction/ title="src/routes/joke/index.tsx"
export default component$(() => {
  const dadJokeSignal = useDadJoke();
  const favoriteJokeAction = useJokeVoteAction();
  return (
    <section class="section bright">
      <p>{dadJokeSignal.value.joke}</p>
      <Form action={favoriteJokeAction}>
        <input type="hidden" name="jokeID" value={dadJokeSignal.value.id} />
        <button name="vote" value="up">ğŸ‘</button>
        <button name="vote" value="down">ğŸ‘</button>
      </Form>
    </section>
  );
});
```

3. ç°åœ¨åœ¨ `http://localhost:5173/joke/` ä¸Šï¼ŒæŒ‰é’®æ˜¾ç¤ºå‡ºæ¥ï¼Œå¦‚æœä½ ç‚¹å‡»å®ƒä»¬ï¼Œå®ƒä»¬çš„å€¼ä¼šè¢«è®°å½•åˆ°æ§åˆ¶å°ä¸­ã€‚

ä»£ç è§£é‡Šï¼š

- `routeAction$` æ¥æ”¶æ•°æ®ã€‚
  - ä¼ é€’ç»™ `routeAction$` çš„å‡½æ•°åœ¨è¡¨å•æäº¤æ—¶åœ¨æœåŠ¡å™¨ä¸Šè¢«è°ƒç”¨ã€‚
  - `routeAction$` è¿”å›ä¸€ä¸ªä½¿ç”¨é’©å­ `useJokeVoteAction`ï¼Œæ‚¨å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨å®ƒæ¥æäº¤è¡¨å•æ•°æ®ã€‚
- `Form` æ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„ç»„ä»¶ï¼Œç”¨äºåŒ…è£…æµè§ˆå™¨åŸç”Ÿçš„ `<form>` å…ƒç´ ã€‚

éœ€è¦æ³¨æ„çš„äº‹é¡¹ï¼š

- æœ‰å…³éªŒè¯ï¼Œè¯·å‚é˜…[zod éªŒè¯](/docs/action/#validation-and-type-safety)ã€‚
- å³ä½¿ JavaScript è¢«ç¦ç”¨ï¼Œ`routeAction$` ä¹Ÿå¯ä»¥å·¥ä½œã€‚
- å¦‚æœå¯ç”¨äº† JavaScriptï¼Œåˆ™ `Form` ç»„ä»¶å°†é˜»æ­¢æµè§ˆå™¨æäº¤è¡¨å•ï¼Œå¹¶ä½¿ç”¨ JavaScript æäº¤æ•°æ®ï¼Œå¹¶æ¨¡æ‹Ÿæµè§ˆå™¨çš„åŸç”Ÿè¡¨å•è¡Œä¸ºï¼Œè€Œæ— éœ€å®Œå…¨åˆ·æ–°é¡µé¢ã€‚

å‚è€ƒä»£ç æ®µå¦‚ä¸‹ï¼š

<CodeSandbox src="/src/routes/demo/getting-started/03-posting-data/index.tsx" style={{ height: '8em' }}>
```tsx {21,25-29} /favoriteJokeAction/ title="src/routes/joke/index.tsx"
import { component$ } from '@builder.io/qwik';
import { routeLoader$, Form, routeAction$ } from '@builder.io/qwik-city';

export const useDadJoke = routeLoader$(async () => {
  const response = await fetch('https://icanhazdadjoke.com/', {
    headers: { Accept: 'application/json' },
  });
  return (await response.json()) as {
    id: string;
    status: number;
    joke: string;
  };
});

export const useJokeVoteAction = routeAction$((props) => {
  console.log('VOTE', props);
});

export default component$(() => {
  // Calling our `useDadJoke` hook, will return a reactive signal to the loaded data.
  const dadJokeSignal = useDadJoke();
  const favoriteJokeAction = useJokeVoteAction();
  return (
    <section class="section bright">
      <p>{dadJokeSignal.value.joke}</p>
      <Form action={favoriteJokeAction}>
        <input type="hidden" name="jokeID" value={dadJokeSignal.value.id} />
        <button name="vote" value="up">
          ğŸ‘
        </button>
        <button name="vote" value="down">
          ğŸ‘
        </button>
      </Form>
    </section>
  );
});
```
</CodeSandbox>

### 4. ä¿®æ”¹çŠ¶æ€

è·Ÿè¸ªçŠ¶æ€å¹¶æ›´æ–° UI æ˜¯åº”ç”¨ç¨‹åºçš„æ ¸å¿ƒåŠŸèƒ½ã€‚Qwik æä¾›äº† `useSignal` é’©å­æ¥è·Ÿè¸ªåº”ç”¨ç¨‹åºçš„çŠ¶æ€ã€‚è¦äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…[çŠ¶æ€ç®¡ç†](/docs/components/state/)ã€‚

è¦å£°æ˜çŠ¶æ€ï¼š

1. ä» `qwik` å¯¼å…¥ `useSignal`ã€‚
   ```tsx /useSignal/
   import { component$, useSignal } from "@builder.io/qwik";
   ```
2. ä½¿ç”¨ `useSignal()` å£°æ˜ç»„ä»¶çš„çŠ¶æ€ã€‚
   ```tsx /useSignal/
   const isFavoriteSignal = useSignal(false);
   ```
3. åœ¨ `Form` ç»“æŸæ ‡ç­¾åï¼Œæ·»åŠ ä¸€ä¸ªæŒ‰é’®æ¥ä¿®æ”¹çŠ¶æ€ã€‚
   ```tsx /isFavoriteSignal/
   <button
    onClick$={() => {
      isFavoriteSignal.value = !isFavoriteSignal.value;
    }}>
     {isFavoriteSignal.value ? 'â¤ï¸' : 'ğŸ¤'}
   </button>
   ```

æ³¨æ„ï¼šç‚¹å‡»æŒ‰é’®ä¼šæ›´æ–°çŠ¶æ€ï¼Œè¿›è€Œæ›´æ–° UIã€‚

å‚è€ƒä»£ç æ®µå¦‚ä¸‹ï¼š

<CodeSandbox src="/src/routes/demo/getting-started/04-state/index.tsx" style={{ height: '10em' }} maxHeight={500}>
```tsx /isFavoriteSignal/ title="src/routes/joke/index.tsx"
import { component$, useSignal } from '@builder.io/qwik';
import { routeLoader$, Form, routeAction$ } from '@builder.io/qwik-city';

export const useDadJoke = routeLoader$(async () => {
  const response = await fetch('https://icanhazdadjoke.com/', {
    headers: { Accept: 'application/json' },
  });
  return (await response.json()) as {
    id: string;
    status: number;
    joke: string;
  };
});

export const useJokeVoteAction = routeAction$((props) => {
  console.log('VOTE', props);
});

export default component$(() => {
  const isFavoriteSignal = useSignal(false);
  // Calling our `useDadJoke` hook, will return a reactive signal to the loaded data.
  const dadJokeSignal = useDadJoke();
  const favoriteJokeAction = useJokeVoteAction();

  return (
    <section class="section bright">
      <p>{dadJokeSignal.value.joke}</p>
      <Form action={favoriteJokeAction}>
        <input type="hidden" name="jokeID" value={dadJokeSignal.value.id} />
        <button name="vote" value="up">
          ğŸ‘
        </button>
        <button name="vote" value="down">
          ğŸ‘
        </button>
      </Form>
      <button
        onClick$={() => (isFavoriteSignal.value = !isFavoriteSignal.value)}
      >
        {isFavoriteSignal.value ? 'â¤ï¸' : 'ğŸ¤'}
      </button>
    </section>
  );
});
```
</CodeSandbox>

### 5. ä»»åŠ¡å’Œè°ƒç”¨æœåŠ¡å™¨ä»£ç 

åœ¨ Qwik ä¸­ï¼Œ[ä»»åŠ¡](/docs/components/tasks/#usetask)æ˜¯åœ¨çŠ¶æ€æ›´æ”¹æ—¶éœ€è¦æ‰§è¡Œçš„å·¥ä½œï¼ˆç±»ä¼¼äºå…¶ä»–æ¡†æ¶ä¸­çš„â€œeffectâ€ï¼‰ã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä»»åŠ¡æ¥è°ƒç”¨æœåŠ¡å™¨ä¸Šçš„ä»£ç ã€‚

1. ä» `qwik` å¯¼å…¥ `useTask$`ã€‚
   ```tsx /useTask$/
   import { component$, useSignal, useTask$ } from "@builder.io/qwik";
2. åˆ›å»ºä¸€ä¸ªæ–°çš„ä»»åŠ¡æ¥è·Ÿè¸ª `isFavoriteSignal` çŠ¶æ€ï¼š
   ```tsx /useTask\$/
   useTask$(({ track }) => {});
   ```
3. åœ¨ `isFavoriteSignal` çŠ¶æ€æ›´æ”¹æ—¶æ·»åŠ ä¸€ä¸ª `track` è°ƒç”¨æ¥é‡æ–°æ‰§è¡Œä»»åŠ¡ï¼š
   ```tsx /track/
   useTask$(({ track }) => {
     track(() => isFavoriteSignal.value);
   });
   ```
4. æ·»åŠ è¦åœ¨çŠ¶æ€æ›´æ”¹æ—¶æ‰§è¡Œçš„å·¥ä½œï¼š
   ```tsx {3}
   useTask$(({ track }) => {
     track(() => isFavoriteSignal.value);
     console.log('FAVORITE (isomorphic)', isFavoriteSignal.value);
   });
   ```
5. å¦‚æœåªæƒ³åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œå·¥ä½œï¼Œè¯·å°†å…¶åŒ…è£…åœ¨ `server$()` ä¸­ï¼š
   ```tsx /server\$/ {4-6}
   useTask$(({ track }) => {
     track(() => isFavoriteSignal.value);
     console.log('FAVORITE (isomorphic)', isFavoriteSignal.value);
     server$(() => {
       console.log('FAVORITE (server)', isFavoriteSignal.value);
     })();
   });
   ```

æ³¨æ„ï¼š

- `useTask$` çš„ä¸»ä½“åœ¨æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ï¼ˆåŒæ„ï¼‰ä¸Šéƒ½ä¼šæ‰§è¡Œã€‚
- åœ¨ SSR ä¸­ï¼ŒæœåŠ¡å™¨æ‰“å° `FAVORITE (isomorphic) false` å’Œ `FAVORITE (server) false`ã€‚
- å½“ç”¨æˆ·ä¸æ”¶è—äº’åŠ¨æ—¶ï¼Œå®¢æˆ·ç«¯æ‰“å° `FAVORITE (isomorphic) true`ï¼ŒæœåŠ¡å™¨æ‰“å° `FAVORITE (server) true`ã€‚

å‚è€ƒä»£ç æ®µå¦‚ä¸‹ï¼š

<CodeSandbox src="/src/routes/demo/getting-started/05-tasks/index.tsx" style={{ height: '10em' }} maxHeight={500}>
```tsx {28-34} title="src/routes/joke/index.tsx"
import { component$, useSignal, useTask$ } from '@builder.io/qwik';
import {
  routeLoader$,
  Form,
  routeAction$,
  server$,
} from '@builder.io/qwik-city';

export const useDadJoke = routeLoader$(async () => {
  const response = await fetch('https://icanhazdadjoke.com/', {
    headers: { Accept: 'application/json' },
  });
  return (await response.json()) as {
    id: string;
    status: number;
    joke: string;
  };
});

export const useJokeVoteAction = routeAction$((props) => {
  console.log('VOTE', props);
});

export default component$(() => {
  const isFavoriteSignal = useSignal(false);
  // Calling our `useDadJoke` hook, will return a reactive signal to the loaded data.
  const dadJokeSignal = useDadJoke();
  const favoriteJokeAction = useJokeVoteAction();
  useTask$(({ track }) => {
    track(() => isFavoriteSignal.value);
    console.log('FAVORITE (isomorphic)', isFavoriteSignal.value);
    server$(() => {
      console.log('FAVORITE (server)', isFavoriteSignal.value);
    })();
  });
  return (
    <section class="section bright">
      <p>{dadJokeSignal.value.joke}</p>
      <Form action={favoriteJokeAction}>
        <input type="hidden" name="jokeID" value={dadJokeSignal.value.id} />
        <button name="vote" value="up">
          ğŸ‘
        </button>
        <button name="vote" value="down">
          ğŸ‘
        </button>
      </Form>
      <button
        onClick$={() => (isFavoriteSignal.value = !isFavoriteSignal.value)}
      >
        {isFavoriteSignal.value ? 'â¤ï¸' : 'ğŸ¤'}
      </button>
    </section>
  );
});
```
</CodeSandbox>

### 6. æ ·å¼

æ ·å¼æ˜¯ä»»ä½•åº”ç”¨ç¨‹åºçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚Qwik æä¾›äº†ä¸€ç§å°†æ ·å¼ä¸ç»„ä»¶å…³è”å’Œä½œç”¨åŸŸåŒ–çš„æ–¹æ³•ã€‚

æ·»åŠ æ ·å¼ï¼š

1. åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ `src/routes/joke/index.css`ï¼š

   ```css
   p {
     font-weight: bold;
   }

   form {
     float: right;
   }
   ```

2. åœ¨ `src/routes/joke/index.tsx` ä¸­å¯¼å…¥æ ·å¼ï¼š
    ```tsx
    import styles from "./index.css?inline";
    ```
3. ä» `qwik` å¯¼å…¥ `useStylesScoped$`ã€‚
   ```tsx /useStylesScoped$/
   import { component$, useSignal, useStylesScoped$, useTask$ } from "@builder.io/qwik";
4. å‘Šè¯‰ç»„ä»¶åŠ è½½æ ·å¼ï¼š
   ```tsx
   useStylesScoped$(styles);
   ```

ä»£ç è§£é‡Šï¼š

- `?inline` æŸ¥è¯¢å‚æ•°å‘Šè¯‰ Vite å°†æ ·å¼å†…è”åˆ°ç»„ä»¶ä¸­ã€‚
- `useStylesScoped$` è°ƒç”¨å‘Šè¯‰ Qwik ä»…å°†æ ·å¼ä¸ç»„ä»¶å…³è”ï¼ˆä½œç”¨åŸŸåŒ–ï¼‰ã€‚
- æ ·å¼ä»…åœ¨é¦–æ¬¡ç»„ä»¶åŠ è½½æ—¶åŠ è½½ï¼Œå¦‚æœå·²ç»ä½œä¸º SSR çš„ä¸€éƒ¨åˆ†å†…è”ï¼Œåˆ™ä¸ä¼šåŠ è½½ã€‚

å‚è€ƒä»£ç æ®µå¦‚ä¸‹ï¼š

<CodeSandbox maxHeight={500} src="/src/routes/demo/getting-started/06-styling/index.tsx" style={{ height: '10em' }}>
```tsx /useStylesScoped\$/#a /styles/#b title="src/routes/joke/index.tsx"
import {
  component$,
  useSignal,
  useStylesScoped$,
  useTask$,
} from '@builder.io/qwik';
import {
  routeLoader$,
  Form,
  routeAction$,
  server$,
} from '@builder.io/qwik-city';
import styles from './index.css?inline';

export const useDadJoke = routeLoader$(async () => {
  const response = await fetch('https://icanhazdadjoke.com/', {
    headers: { Accept: 'application/json' },
  });
  return (await response.json()) as {
    id: string;
    status: number;
    joke: string;
  };
});

export const useJokeVoteAction = routeAction$((props) => {
  console.log('VOTE', props);
});

export default component$(() => {
  useStylesScoped$(styles);
  const isFavoriteSignal = useSignal(false);
  // Calling our `useDadJoke` hook, will return a reactive signal to the loaded data.
  const dadJokeSignal = useDadJoke();
  const favoriteJokeAction = useJokeVoteAction();
  useTask$(({ track }) => {
    track(() => isFavoriteSignal.value);
    console.log('FAVORITE (isomorphic)', isFavoriteSignal.value);
    server$(() => {
      console.log('FAVORITE (server)', isFavoriteSignal.value);
    })();
  });
  return (
    <section class="section bright">
      <p>{dadJokeSignal.value.joke}</p>
      <Form action={favoriteJokeAction}>
        <input type="hidden" name="jokeID" value={dadJokeSignal.value.id} />
        <button name="vote" value="up">ğŸ‘</button>
        <button name="vote" value="down">ğŸ‘</button>
      </Form>
      <button
        onClick$={() => (isFavoriteSignal.value = !isFavoriteSignal.value)}
      >
        {isFavoriteSignal.value ? 'â¤ï¸' : 'ğŸ¤'}
      </button>
    </section>
  );
});
```
</CodeSandbox>

### 7. é¢„è§ˆ

æˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªæœ€å°çš„åº”ç”¨ç¨‹åºï¼Œä¸ºæ‚¨æä¾›äº† Qwik çš„å…³é”®æ¦‚å¿µå’Œ API çš„æ¦‚è¿°ã€‚è¯¥åº”ç”¨ç¨‹åºæ­£åœ¨ä»¥å¼€å‘æ¨¡å¼è¿è¡Œï¼Œä½¿ç”¨çƒ­æ¨¡å—é‡è½½ï¼ˆHMRï¼‰åœ¨æ›´æ”¹ä»£ç æ—¶æŒç»­æ›´æ–°åº”ç”¨ç¨‹åºã€‚

åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼š

- æ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯å•ç‹¬åŠ è½½çš„ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç½‘ç»œæ ‡ç­¾ä¸­çš„ç€‘å¸ƒæµã€‚
- æ²¡æœ‰é¢„åŠ è½½æ†ç»‘åŒ…ï¼Œå› æ­¤ç¬¬ä¸€æ¬¡äº¤äº’å¯èƒ½ä¼šæœ‰å»¶è¿Ÿã€‚

è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç”Ÿäº§æ„å»ºï¼Œæ¶ˆé™¤è¿™äº›é—®é¢˜ã€‚

åˆ›å»ºé¢„è§ˆæ„å»ºï¼š

1. è¿è¡Œ `npm run preview` åˆ›å»ºä¸€ä¸ªç”Ÿäº§æ„å»ºã€‚

æ³¨æ„ï¼š

- æ‚¨çš„åº”ç”¨ç¨‹åºç°åœ¨åº”è¯¥æœ‰ä¸€ä¸ªç”Ÿäº§æ„å»ºï¼Œå¹¶åœ¨ä¸åŒçš„ç«¯å£ä¸Šè¿è¡Œã€‚
- å¦‚æœæ‚¨ç°åœ¨ä¸åº”ç”¨ç¨‹åºäº¤äº’ï¼Œå¼€å‘å·¥å…·çš„ç½‘ç»œæ ‡ç­¾åº”è¯¥æ˜¾ç¤ºæ†ç»‘åŒ…æ˜¯ä»[ServiceWorker ç¼“å­˜](/docs/advanced/speculative-module-fetching/)ä¸­ç«‹å³ä¼ é€çš„ã€‚

## å¤ä¹ 

æ­å–œï¼æ‚¨å·²ç»å­¦åˆ°äº†å¾ˆå¤šå…³äº Qwik çš„çŸ¥è¯†ï¼å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šå…³äº Qwik çš„åŠŸèƒ½ï¼Œè¯·é˜…è¯»æœ¬æ•™ç¨‹ä¸­æ¶‰åŠçš„æ¯ä¸ªä¸»é¢˜çš„ä¸“é—¨æ–‡æ¡£ï¼š

- [é¡¹ç›®ç»“æ„](/docs/(qwikcity)/project-structure/index.mdx)
- [åŸºäºç›®å½•çš„è·¯ç”±](/docs/(qwikcity)/routing/index.mdx#directory-based-routing)
- [ç»„ä»¶](/docs/(qwik)/components/overview/index.mdx)
- [è·¯ç”±åŠ è½½å™¨](/docs/(qwikcity)/route-loader/index.mdx)
- [è¡¨å•æ“ä½œ](/docs/(qwikcity)/action/index.mdx) && [zod éªŒè¯](/docs/(qwikcity)/action/index.mdx#zod-validation)
- [çŠ¶æ€ç®¡ç†](/docs/(qwik)/components/state/index.mdx)
- [ä»»åŠ¡](/docs/(qwik)/components/tasks/index.mdx#use-usetask-when-you-need-to)
- [ServiceWorker ç¼“å­˜](/docs/(qwikcity)/advanced/speculative-module-fetching/index.mdx#pre-populating-the-cache-with-a-service-worker)